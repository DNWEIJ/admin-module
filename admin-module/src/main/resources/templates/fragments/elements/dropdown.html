<th:block th:fragment="dbDropdown(name, label, dbField, list, required, tabindex)">
    <th:block th:if="${list.size() > 0}">
        <th:block th:if="${label != ''}">
            <label th:for="${name}" th:value="${label}">[[#{${label}}]]
        </th:block>
    <select th:id="${name}" th:name="${name}" th:required="${required}" th:tabindex="${tabindex}">
        <th:block th:if="${list.size() == 1}">
            <option selected th:Utext="${list[0].name}" th:value="${list[0].id}"></option>
        </th:block>
        <th:block th:unless="${list.size() == 1}">
            <th:block th:with="value=${dbField == ''}">
                <th:block th:if="${value == false}">
                    <option th:if="${__${dbField}__} == null" disabled readonly selected="true" value="" th:text="#{label.choose}"></option>
                </th:block>
                <th:block th:each="element : ${list}">
                    <th:block th:if="${value == false}">
                        <option th:selected="${__${dbField}__} != null and ${__${dbField}__} == ${element.id}"
                                th:utext="${element.name}" th:value="${element.id}"></option>
                    </th:block>
                    <th:block th:if="${value == true}">
                        <option th:utext="${element.name}" th:value="${element.id}"></option>
                    </th:block>
                </th:block>
            </th:block>
        </th:block>
    </select>
    <th:block th:if="${label != ''}">
        </label>
    </th:block>
</th:block>
</th:block>

<th:block th:fragment="dbDropdownMultiSelect(name, label, dbField, list, required, tabindex)">
    <!-- Checkboxes -->
    <details class="dropdown">
        <summary th:text="${label}"></summary>
        <ul>
            <th:block th:each="element : ${list}">
                <li><label><input type="checkbox" th:name="${element.id}"/>[[${element.name}]]</label></li>
            </th:block>
        </ul>
    </details>
</th:block>

<th:block th:fragment="propDropdown(name, label, dbField, list, required, tabindex)">
    <label th:for="${name}">
        <th:block th:utext="#{${label}}"></th:block>
        <select th:id="${name}" th:name="${name}" th:required="${required}" th:tabindex="${tabindex}">

            <th:block th:if="${list.size() == 1}">
                <option selected th:text="${list[0].name}" th:value="${list[0].id}"></option>
            </th:block>

            <th:block th:unless="${list.size() == 1}">
                <option disabled readonly th:selected="${__${dbField}__} == null" value="" th:text="#{label.choose}"/>
                </option>
                <th:block th:each="element : ${list}">
                    <option th:selected="${__${dbField}__} != null and ${#strings.equals(element.name, __${dbField}__)}" th:text="#{${element.label}}" th:value="${element.name}"></option>
                </th:block>
            </th:block>
        </select>
    </label>
</th:block>