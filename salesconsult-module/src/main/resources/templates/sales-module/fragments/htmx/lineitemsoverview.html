<tbody id="lineItemsReplacedByHtmx"
       hx-swap-oob="innerHTML"
       th:hx-confirm="#{label.otc.sell.delete.confirm}"
       hx-target="closest tr"
       hx-swap="outerHTML swap:1s">
<input th:id="csrfParameterName" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" type="hidden"/>
<th:block th:each="lineitem : ${allLineItems}">
    <tr>
        <td class="center">
            <a href="" th:hx-delete="${url+lineitem.id}" hx-include="#csrfParameterName">
                <svg class="svg-icon">
                    <use href="/lib/tabler-icons-3_35_0/icons/outline/trash.svg"></use>
                </svg>
            </a>
        </td>
        <td th:text="${lineitem.nomenclature}"></td>
        <td th:text="${categoryNames.get(lineitem.categoryId)}" class="desktop-only"></td>

        <th:block th:insert="~{fragments/elements/moneydisplay::showMoney_td(${lineitem.quantity})}"></th:block>

        <th:block th:insert="~{fragments/elements/moneydisplay::showMoney_td(${lineitem.sellExTaxPrice})}" th:with="deskTopOnly=true"></th:block>
        <th:block th:insert="~{fragments/elements/moneydisplay::showMoney_td(${lineitem.processingFee})}" th:with="deskTopOnly=true"></th:block>
        <th:block th:insert="~{fragments/elements/moneydisplay::showMoney_td(${lineitem.taxPortionOfSell + lineitem.taxPortionOfProcessingFeeService})}" th:with="deskTopOnly=true"></th:block>
        <th:block th:insert="~{fragments/elements/moneydisplay::showMoney_td(${lineitem.total})}"></th:block>
        <td class="center">
            <a class="desktop-only" th:if="${lineitem.hasPrintLabel}" href="">
                <svg class="svg-icon">
                    <use href="/lib/tabler-icons-3_35_0/icons/outline/printer.svg"></use>
                </svg>
            </a>
        </td>
    </tr>
</th:block>
</tbody>
<tfoot>
<tr></tr>
<tr>
    <th></th>
    <th class="left"></th>
    <th class="desktop-only left"></th>
    <th class="desktop-only right"></th>
    <th class="desktop-only right"></th>
    <th class="right" th:text="#{label.otc.sell.total}"></th>
    <th:block th:insert="~{fragments/elements/moneydisplay::showMoney_td(${totalVatAmount})}"></th:block>
    <th:block th:insert="~{fragments/elements/moneydisplay::showMoney_td(${totalAmount})}"></th:block>
    <th class="right"></th>
</tr>
</tfoot>