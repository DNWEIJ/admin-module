<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout.html}">
<head>
    <title>Create/Update driver</title>
</head>
<body>
<section layout:fragment="content">
    <th:block th:insert="~{fragments/elements/pagetitle::pageTitleNLWP(${game.id}, 'Berijder','/game/list')}"></th:block>
    <fieldset>
    <span class="twocolumn-spread">
        <th><h4 th:text="${game.whereIsTheGame}"></h4></th>
        <span><small><b th:text="${#temporals.format(game.whenIsTheGame , 'dd-MM-yyyy HH:mm')}"></b></small></span>
    </span>
        <th:block th:if="${game.drivers != null and game.drivers.size() > 0}">
            <table class="table-tight">
                <thead>
                <tr>
                    <th>Rijder</th>
                    <th>via wasbeek of direct</th>
                    <th class="right"><span><i class="fa-solid fa-2xs fa-user-check"></i>&nbsp;<i class="fa-solid fa-2xs fa-car"></i></span></th>
                </tr>
                </thead>
                <tbody>
                <th:block th:each="driver : ${game.drivers}">
                    <tr>
                        <td th:text="${driver.accountName}">Content</td>
                        <td th:if="${driver.atSwimmingPool}">wasbeek</td>
                        <td th:if="${not driver.atSwimmingPool}">direct</td>
                        <td class="right">[[${driver.nrOfTeamMembers}]]&nbsp;&nbsp;&nbsp;[[${driver.nrOfEmptySpots}]]</td>
                    </tr>
                </th:block>
                </tbody>
            </table>
        </th:block>
    </fieldset>
    <hr/>
    <form th:action="'/game/'+${driver.game.id}+'/driver'" method="post">
        <input th:name="${_csrf.parameterName}" th:value="${_csrf.token}" type="hidden"/>
        <th:block th:insert="~{fragments/elements/buttons::saveButtons()}"></th:block>

        <input id="id" name="id" th:value="${driver.id}" type="hidden">
        <input id="version" name="version" th:value="${driver.version}" type="hidden">
        <input id="game.id" name="game.id" th:value="${driver.game.id}" type="hidden"/>
        <table>
            <tr>
                <td cospan="2">
                    <nobr>Vervoer geregeld door: <b>[[${driver.accountName}]]</b></nobr>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <th:block th:insert="~{fragments/elements/select::selectCheckBox('atSwimmingPool','Ga je langs de wasbeek?', 'driver.atSwimmingPool','1')}"></th:block>
                </td>
            </tr>
            <tr>
                <td>Hoeveel (eigen) leden zijn al in de auto?</td>
                <td><input id="nrOfTeamMembers" name="nrOfTeamMembers" th:value="${driver.nrOfTeamMembers}" type="number" tabindex="1"/></td>
            </tr>
            <tr>
                <td>Hoeveel legen plekken zijn er (teamleden)?</td>
                <td><input id="nrOfEmptySpots" name="nrOfEmptySpots" th:value="${driver.nrOfEmptySpots}" type="number" tabindex="2"/></td>
            </tr>
        </table>
    </form>
</section>
</body>
<style>
    hr {
        border: none; /* remove default border */
        height: 3px; /* thickness */
        background-color: #111; /* color */
        margin: 1rem 0; /* optional spacing */
    }
</style>